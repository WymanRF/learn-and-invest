{"ast":null,"code":"var _jsxFileName = \"/home/code-blooded-wyman/Desktop/wymanrf/learn-and-invest/src/components/signInCard.jsx\";\nimport React, { Component } from 'react';\nimport Input from './Input';\nimport axios from 'axios';\nimport M from \"materialize-css\";\nimport \"../index.css\";\n\nclass SignInCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.handleAuthenticate = e => {\n      e.preventDefault();\n      const email = e.target.email.value;\n      const password = e.target.password.value;\n      const form = e.target;\n      console.log({\n        email,\n        password\n      });\n      axios.post('http://localhost:3001/authenticate', {\n        email,\n        password\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data.auth_token) {\n          this.props.setToken(res.data.auth_token);\n          M.toast({\n            html: 'You have successfully signed in!',\n            classes: 'light-green accent-2'\n          });\n          this.props.history.push('/dashboard');\n        }\n      }).catch(err => {\n        form.reset();\n        M.toast({\n          html: 'Invalid Credentials',\n          classes: 'red accent-4'\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"card card-content\",\n      onSubmit: this.handleAuthenticate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        margin: \"7.5rem\"\n      },\n      className: \"card-title center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Sign-In\"), React.createElement(Input, {\n      type: \"email\",\n      label: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"password\",\n      label: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      style: {\n        margin: \"0 0 1.5rem 6.5rem\"\n      },\n      className: \"btn-large  grey darken-4\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Submit\"));\n  }\n\n}\n\nexport default SignInCard;","map":{"version":3,"sources":["/home/code-blooded-wyman/Desktop/wymanrf/learn-and-invest/src/components/signInCard.jsx"],"names":["React","Component","Input","axios","M","SignInCard","state","handleAuthenticate","e","preventDefault","email","target","value","password","form","console","log","post","then","res","data","auth_token","props","setToken","toast","html","classes","history","push","catch","err","reset","render","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,iBAAd;AACA,OAAO,cAAP;;AACA,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACjCK,KADiC,GACzB,EADyB;;AAAA,SAGjCC,kBAHiC,GAGXC,CAAD,IAAO;AAC1BA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAAT,CAAeE,KAA7B;AACA,YAAMC,QAAQ,GAAGL,CAAC,CAACG,MAAF,CAASE,QAAT,CAAkBD,KAAnC;AACA,YAAME,IAAI,GAAGN,CAAC,CAACG,MAAf;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACN,QAAAA,KAAD;AAAQG,QAAAA;AAAR,OAAZ;AACAV,MAAAA,KAAK,CAACc,IAAN,CAAW,oCAAX,EAAiD;AAACP,QAAAA,KAAD;AAAQG,QAAAA;AAAR,OAAjD,EACCK,IADD,CACOC,GAAG,IAAI;AACZJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB;;AACA,YAAGD,GAAG,CAACC,IAAJ,CAASC,UAAZ,EAAuB;AACrB,eAAKC,KAAL,CAAWC,QAAX,CAAoBJ,GAAG,CAACC,IAAJ,CAASC,UAA7B;AACAjB,UAAAA,CAAC,CAACoB,KAAF,CAAQ;AAACC,YAAAA,IAAI,EAAE,kCAAP;AAA2CC,YAAAA,OAAO,EAAE;AAApD,WAAR;AACA,eAAKJ,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD;AACF,OARD,EASCC,KATD,CASQC,GAAG,IAAI;AACbhB,QAAAA,IAAI,CAACiB,KAAL;AACA3B,QAAAA,CAAC,CAACoB,KAAF,CAAQ;AAACC,UAAAA,IAAI,EAAE,qBAAP;AAA8BC,UAAAA,OAAO,EAAE;AAAvC,SAAR;AACD,OAZD;AAaD,KAtBgC;AAAA;;AAwBjCM,EAAAA,MAAM,GAAG;AACL,WACI;AAAM,MAAA,SAAS,EAAC,mBAAhB;AAAoC,MAAA,QAAQ,EAAE,KAAKzB,kBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,KAAK,EAAE;AAAC0B,QAAAA,MAAM,EAAC;AAAR,OAAb;AAAgC,MAAA,SAAS,EAAC,mBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,KAAK,EAAC,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,KAAK,EAAC,UAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAQ,MAAA,KAAK,EAAE;AAACA,QAAAA,MAAM,EAAC;AAAR,OAAf;AAA6C,MAAA,SAAS,EAAG,0BAAzD;AAAoF,MAAA,IAAI,EAAC,QAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,CADJ;AAQH;;AAjCgC;;AAoCnC,eAAe5B,UAAf","sourcesContent":["import React, {Component} from 'react'\nimport Input from './Input'\nimport axios from 'axios'\nimport M from \"materialize-css\"\nimport \"../index.css\"\nclass SignInCard extends Component {\n  state = {}\n\n  handleAuthenticate = (e) => {\n    e.preventDefault()  \n    const email = e.target.email.value\n    const password = e.target.password.value\n    const form = e.target\n    console.log({email, password})\n    axios.post('http://localhost:3001/authenticate', {email, password})\n    .then( res => {\n      console.log(res.data)\n      if(res.data.auth_token){ \n        this.props.setToken(res.data.auth_token) \n        M.toast({html: 'You have successfully signed in!', classes: 'light-green accent-2'})\n        this.props.history.push('/dashboard')\n      }\n    })\n    .catch( err => {\n      form.reset()\n      M.toast({html: 'Invalid Credentials', classes: 'red accent-4'}) \n    })\n  }\n\n  render() {\n      return ( \n          <form className=\"card card-content\" onSubmit={this.handleAuthenticate}>\n            <span style={{margin:\"7.5rem\"}} className=\"card-title center\">Sign-In</span>\n            <Input type=\"email\" label=\"email\"/>\n            <Input type=\"password\" label=\"password\"/>\n            <button style={{margin:\"0 0 1.5rem 6.5rem\"}} className = 'btn-large  grey darken-4' type=\"submit\">Submit</button> \n          </form>\n       )      \n  }\n}\n \nexport default SignInCard"]},"metadata":{},"sourceType":"module"}